{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\gabri\\\\Documents\\\\APIHumberto2021\\\\Segundo Bimestre\\\\Frontend-CoronaVac\\\\src\\\\Pages\\\\Login\\\\Login.tsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { useNavigation } from '@react-navigation/core';\nimport { Feather } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport Loading from \"../../Components/Loading/Loading\";\nimport styles from \"../../Styles/mainStyle\";\nimport { CircleButton } from \"../../Components/Buttons/CircleButton/CircleButton\";\nimport api from \"../../Services/api\";\nexport default function Login() {\n  var navigation = useNavigation();\n  var image = {\n    uri: \"https://media.gazetadopovo.com.br/viver-bem/2019/02/vacina-filho-pais-antivacina-600x400-38413e10.jpg\"\n  };\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      txtSenha = _React$useState2[0],\n      setSenha = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      txtEmail = _React$useState4[0],\n      setEmail = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      flLoading = _React$useState6[0],\n      setLoading = _React$useState6[1];\n\n  var _React$useState7 = React.useState({\n    flShowPass: true,\n    iconPass: 'eye-off'\n  }),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      objPasswordConfig = _React$useState8[0],\n      setConfigForm = _React$useState8[1];\n\n  function handleChangeIcon() {\n    var icone = objPasswordConfig.iconPass === \"eye\" ? \"eye-off\" : \"eye\";\n    var flShowPass = !objPasswordConfig.flShowPass;\n    setConfigForm({\n      iconPass: icone,\n      flShowPass: flShowPass\n    });\n  }\n\n  function navigateToWelcome() {\n    navigation.goBack();\n  }\n\n  if (flLoading) {\n    return React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    });\n  }\n\n  function navigateToHome() {\n    var objLogin, response;\n    return _regeneratorRuntime.async(function navigateToHome$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            objLogin = {\n              email: txtEmail,\n              senha: txtSenha\n            };\n\n            if (!(txtEmail.trim() === '')) {\n              _context.next = 4;\n              break;\n            }\n\n            alert('Campo login é obrigatório');\n            return _context.abrupt(\"return\");\n\n          case 4:\n            if (!(txtSenha.trim() === '')) {\n              _context.next = 7;\n              break;\n            }\n\n            alert('Campo senha é obrigatório');\n            return _context.abrupt(\"return\");\n\n          case 7:\n            setLoading(true);\n            _context.prev = 8;\n            _context.next = 11;\n            return _regeneratorRuntime.awrap(api.post(\"/paciente/Login\", objLogin));\n\n          case 11:\n            response = _context.sent;\n\n            if (!response.data.auth) {\n              _context.next = 15;\n              break;\n            }\n\n            _context.next = 15;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('@AppCoronaVac:username', response.data.pacienteRetorno.nome).then(function () {\n              setLoading(false);\n              navigation.navigate('Home');\n            }));\n\n          case 15:\n            _context.next = 20;\n            break;\n\n          case 17:\n            _context.prev = 17;\n            _context.t0 = _context[\"catch\"](8);\n\n            if (_context.t0 == 'Error: Request failed with status code 401') {\n              alert('Login e/ou senha inválidos');\n            }\n\n          case 20:\n            _context.prev = 20;\n            setLoading(false);\n            return _context.finish(20);\n\n          case 23:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[8, 17, 20, 23]], Promise);\n  }\n\n  return React.createElement(ImageBackground, {\n    source: image,\n    style: styles.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, React.createElement(KeyboardAvoidingView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"Bem vindo!\"), React.createElement(TextInput, {\n    placeholder: \"Digite seu email\",\n    style: loginStyles.textInput,\n    onChangeText: function onChangeText(text) {\n      setEmail(text);\n    },\n    value: txtEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: loginStyles.passwordContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"Digite sua senha\",\n    style: loginStyles.textInputPassword,\n    onChangeText: function onChangeText(text) {\n      setSenha(text);\n    },\n    value: txtSenha,\n    secureTextEntry: objPasswordConfig.flShowPass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }), React.createElement(Feather, {\n    style: loginStyles.iconEye,\n    name: objPasswordConfig.iconPass,\n    size: 28,\n    color: 'red',\n    onPress: handleChangeIcon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  })), React.createElement(TouchableOpacity, {\n    style: styles.buttonClickMe,\n    activeOpacity: 0.7,\n    onPress: navigateToHome,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.textButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }, \"Entrar\")), React.createElement(View, {\n    style: {\n      paddingTop: '25%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, React.createElement(CircleButton, {\n    title: '<',\n    onPress: navigateToWelcome,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }))))))));\n}\nvar loginStyles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'white',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  textTitle: {\n    color: 'red',\n    fontSize: 28,\n    marginBottom: 8\n  },\n  textInput: {\n    height: 40,\n    backgroundColor: 'white',\n    borderColor: 'black',\n    borderRadius: 8,\n    borderWidth: 1,\n    width: 200,\n    marginBottom: 16,\n    paddingHorizontal: 8\n  },\n  textInputPassword: {\n    height: 40,\n    borderWidth: 0,\n    width: '70%',\n    marginBottom: 16,\n    paddingHorizontal: 8\n  },\n  buttonIn: {\n    backgroundColor: 'red',\n    borderRadius: 8,\n    height: 50,\n    width: '70%',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  buttonTextIn: {\n    color: '#FFF',\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  passwordContainer: {\n    backgroundColor: 'white',\n    marginBottom: 16,\n    height: 40,\n    borderColor: 'black',\n    borderRadius: 8,\n    borderWidth: 1,\n    width: 200,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  iconEye: {\n    paddingHorizontal: 8,\n    marginTop: 6\n  }\n});","map":{"version":3,"sources":["C:/Users/gabri/Documents/APIHumberto2021/Segundo Bimestre/Frontend-CoronaVac/src/Pages/Login/Login.tsx"],"names":["React","useNavigation","Feather","AsyncStorage","Loading","styles","CircleButton","api","Login","navigation","image","uri","useState","txtSenha","setSenha","txtEmail","setEmail","flLoading","setLoading","flShowPass","iconPass","objPasswordConfig","setConfigForm","handleChangeIcon","icone","navigateToWelcome","goBack","navigateToHome","objLogin","email","senha","trim","alert","post","response","data","auth","setItem","pacienteRetorno","nome","then","navigate","container","form","title","loginStyles","textInput","text","passwordContainer","textInputPassword","iconEye","buttonClickMe","textButton","paddingTop","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","textTitle","color","fontSize","marginBottom","height","borderColor","borderRadius","borderWidth","width","paddingHorizontal","buttonIn","buttonTextIn","fontWeight","flexDirection","marginTop"],"mappings":"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","sourcesContent":["//react imports\r\nimport React from 'react';\r\nimport { StyleSheet, Text, TextInput, TouchableOpacity, View, SafeAreaView, KeyboardAvoidingView, Platform, ImageBackground } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/core';\r\nimport { Feather } from '@expo/vector-icons';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\n//my imports\r\nimport Loading from '../../Components/Loading/Loading'\r\nimport styles from '../../Styles/mainStyle'\r\nimport { CircleButton } from '../../Components/Buttons/CircleButton/CircleButton'\r\n\r\nimport api from '../../Services/api'\r\n\r\ninterface LoginProps {\r\n  email: string,\r\n  senha: string\r\n}\r\n\r\ninterface PasswordConfig {\r\n  flShowPass: boolean,\r\n  iconPass: any\r\n}\r\n\r\nexport default function Login() {\r\n\r\n  const navigation = useNavigation();\r\n  const image = { uri: \"https://media.gazetadopovo.com.br/viver-bem/2019/02/vacina-filho-pais-antivacina-600x400-38413e10.jpg\" }\r\n\r\n  const [txtSenha, setSenha] = React.useState('');\r\n  const [txtEmail, setEmail] = React.useState('');\r\n  const [flLoading, setLoading] = React.useState(false)\r\n  const [objPasswordConfig, setConfigForm] = React.useState<PasswordConfig>({ flShowPass: true, iconPass: 'eye-off' });\r\n\r\n  function handleChangeIcon() {\r\n    let icone = objPasswordConfig.iconPass === \"eye\" ? \"eye-off\" : \"eye\";\r\n    let flShowPass = !objPasswordConfig.flShowPass;\r\n    setConfigForm({ iconPass: icone, flShowPass });\r\n  }\r\n\r\n  function navigateToWelcome() {\r\n    navigation.goBack();\r\n  }\r\n\r\n  if (flLoading) {\r\n    return (<Loading />)\r\n  }\r\n\r\n  async function navigateToHome() {\r\n    let objLogin: LoginProps = { email: txtEmail, senha: txtSenha };\r\n    if (txtEmail.trim() === '') {\r\n      alert('Campo login é obrigatório');\r\n      return;\r\n    }\r\n    if (txtSenha.trim() === '') {\r\n      alert('Campo senha é obrigatório');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.post(`/paciente/Login`, objLogin);\r\n      if (response.data.auth) {\r\n        await AsyncStorage.setItem('@AppCoronaVac:username', response.data.pacienteRetorno.nome)\r\n          .then(() => {\r\n            setLoading(false);\r\n            navigation.navigate('Home');\r\n          })\r\n      }\r\n    }\r\n    catch (e) {\r\n      if (e == 'Error: Request failed with status code 401') {\r\n        alert('Login e/ou senha inválidos');\r\n      }\r\n    }\r\n    finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ImageBackground source={image} style={styles.image}>\r\n      <SafeAreaView style={styles.container}>\r\n        <KeyboardAvoidingView style={styles.container}>\r\n          <View>\r\n            <View style={styles.container}>\r\n              <View style={styles.form}>\r\n                <Text style={styles.title}>Bem vindo!</Text>\r\n                <TextInput\r\n                  placeholder=\"Digite seu email\"\r\n                  style={loginStyles.textInput}\r\n                  onChangeText={(text) => { setEmail(text); }}\r\n                  value={txtEmail}\r\n                ></TextInput>\r\n                <View style={loginStyles.passwordContainer}>\r\n                  <TextInput\r\n                    placeholder=\"Digite sua senha\"\r\n                    style={loginStyles.textInputPassword}\r\n                    onChangeText={(text) => { setSenha(text); }}\r\n                    value={txtSenha}\r\n                    secureTextEntry={objPasswordConfig.flShowPass}\r\n                  ></TextInput>\r\n                  <Feather\r\n                    style={loginStyles.iconEye}\r\n                    name={objPasswordConfig.iconPass}\r\n                    size={28}\r\n                    color={'red'}\r\n                    onPress={handleChangeIcon}\r\n                  />\r\n                </View>\r\n                <TouchableOpacity\r\n                  style={styles.buttonClickMe}\r\n                  activeOpacity={0.7}\r\n                  onPress={navigateToHome}\r\n                >\r\n                  <Text style={styles.textButton}>Entrar</Text>\r\n                </TouchableOpacity>\r\n                <View style={{ paddingTop: '25%' }}>\r\n                  <CircleButton\r\n                    title={'<'}\r\n                    onPress={navigateToWelcome}\r\n                  />\r\n                </View>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </KeyboardAvoidingView>\r\n      </SafeAreaView>\r\n    </ImageBackground>\r\n  );\r\n}\r\n\r\nconst loginStyles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: 'white',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  textTitle: {\r\n    color: 'red',\r\n    fontSize: 28,\r\n    marginBottom: 8\r\n  },\r\n  textInput: {\r\n    height: 40,\r\n    backgroundColor: 'white',\r\n    borderColor: 'black',\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    width: 200,\r\n    marginBottom: 16,\r\n    paddingHorizontal: 8\r\n  },\r\n  textInputPassword: {\r\n    height: 40,\r\n    borderWidth: 0,\r\n    width: '70%',\r\n    marginBottom: 16,\r\n    paddingHorizontal: 8\r\n  },\r\n  buttonIn: {\r\n    backgroundColor: 'red',\r\n    borderRadius: 8,\r\n    height: 50,\r\n    width: '70%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  },\r\n  buttonTextIn: {\r\n    color: '#FFF',\r\n    fontSize: 18,\r\n    fontWeight: 'bold'\r\n  },\r\n  passwordContainer: {\r\n    backgroundColor: 'white',\r\n    marginBottom: 16,\r\n    height: 40,\r\n    borderColor: 'black',\r\n    borderRadius: 8,\r\n    borderWidth: 1,\r\n    width: 200,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between'\r\n  },\r\n  iconEye: {\r\n    paddingHorizontal: 8,\r\n    marginTop: 6\r\n  }\r\n})\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}