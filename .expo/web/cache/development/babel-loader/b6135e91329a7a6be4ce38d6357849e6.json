{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\gabri\\\\Documents\\\\APIHumberto2021\\\\Segundo Bimestre\\\\CoronaVac\\\\src\\\\Pages\\\\Cadastro\\\\Cadastro.tsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { useNavigation } from '@react-navigation/core';\nimport styles from \"../../Styles/mainStyle\";\nimport { CircleButton } from \"../../Components/Buttons/CircleButton/CircleButton\";\nimport { BackgroundImageURl } from \"../../../assets/constants\";\nimport Loading from \"../../Components/Loading/Loading\";\nimport api from \"../../Services/api\";\nexport default function Cadastro() {\n  var navigation = useNavigation();\n  var image = {\n    uri: BackgroundImageURl\n  };\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      txtNome = _React$useState2[0],\n      setNome = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      txtEmail = _React$useState4[0],\n      setEmail = _React$useState4[1];\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      txtSenha = _React$useState6[0],\n      setSenha = _React$useState6[1];\n\n  var _React$useState7 = React.useState(''),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      txtConfirmarSenha = _React$useState8[0],\n      setConfirmarSenha = _React$useState8[1];\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      flLoading = _React$useState10[0],\n      setLoading = _React$useState10[1];\n\n  if (flLoading) {\n    return React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }\n    });\n  }\n\n  function navigateToLogin() {\n    return _regeneratorRuntime.async(function navigateToLogin$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            realizaCadastro();\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function realizaCadastro() {\n    var errors, objCadastro;\n    return _regeneratorRuntime.async(function realizaCadastro$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            errors = [];\n            setLoading(true);\n            objCadastro = {\n              nome: txtNome,\n              email: txtEmail,\n              senha: txtSenha\n            };\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(api.post(\"/paciente/Cadastro\", objCadastro).then(function (response) {\n              if (response.data.auth) {\n                setLoading(false);\n                Alert.alert('Aviso', 'Cadastro realizado!\\nInicie a sessao na tela de Login');\n                navigation.navigate('Login');\n              }\n            }).catch(function (e) {\n              setLoading(false);\n              console.log(e.response.data.errors);\n              e.response.data.errors.map(function (item) {\n                Object.values(item).map(function (item) {\n                  errors.push('\\n\\n' + item);\n                });\n              });\n              Alert.alert('Aviso', \"\" + errors);\n            }));\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function navigateToWelcome() {\n    navigation.navigate('Welcome');\n  }\n\n  return React.createElement(ImageBackground, {\n    source: image,\n    style: styles.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, React.createElement(KeyboardAvoidingView, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 25\n    }\n  }, React.createElement(View, {\n    style: styles.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 33\n    }\n  }, \"Bem vindo!\"), React.createElement(TextInput, {\n    placeholder: \"Nome completo\",\n    style: styles.textInput,\n    onChangeText: function onChangeText(text) {\n      setNome(text);\n    },\n    value: txtNome,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 33\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"E-mail\",\n    style: styles.textInput,\n    onChangeText: function onChangeText(text) {\n      setEmail(text);\n    },\n    value: txtEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 33\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Senha\",\n    style: styles.textInput,\n    onChangeText: function onChangeText(text) {\n      setSenha(text);\n    },\n    value: txtSenha,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 33\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Confirmar Senha\",\n    style: styles.textInput,\n    onChangeText: function onChangeText(text) {\n      setConfirmarSenha(text);\n    },\n    value: txtConfirmarSenha,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 33\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: styles.buttonClickMe,\n    activeOpacity: 0.7,\n    onPress: navigateToLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 33\n    }\n  }, React.createElement(Text, {\n    style: styles.textButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 37\n    }\n  }, \"Cadastrar\")), React.createElement(View, {\n    style: {\n      paddingTop: '25%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 33\n    }\n  }, React.createElement(CircleButton, {\n    title: '<',\n    onPress: navigateToWelcome,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 37\n    }\n  }))))))));\n}","map":{"version":3,"sources":["C:/Users/gabri/Documents/APIHumberto2021/Segundo Bimestre/CoronaVac/src/Pages/Cadastro/Cadastro.tsx"],"names":["React","useNavigation","styles","CircleButton","BackgroundImageURl","Loading","api","Cadastro","navigation","image","uri","useState","txtNome","setNome","txtEmail","setEmail","txtSenha","setSenha","txtConfirmarSenha","setConfirmarSenha","flLoading","setLoading","navigateToLogin","realizaCadastro","errors","objCadastro","nome","email","senha","post","then","response","data","auth","Alert","alert","navigate","catch","e","console","log","map","item","Object","values","push","navigateToWelcome","container","form","title","textInput","text","buttonClickMe","textButton","paddingTop"],"mappings":"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","sourcesContent":["//react imports\r\nimport React from 'react';\r\nimport { StyleSheet, Text, TextInput, TouchableOpacity, View, SafeAreaView, KeyboardAvoidingView, Platform, ImageBackground, Alert } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/core';\r\n\r\n//my imports\r\nimport styles from '../../Styles/mainStyle'\r\nimport { CircleButton } from '../../Components/Buttons/CircleButton/CircleButton'\r\nimport { BackgroundImageURl } from '../../../assets/constants'\r\nimport Loading from '../../Components/Loading/Loading'\r\n\r\nimport api from '../../Services/api'\r\nimport { AxiosResponse } from 'axios';\r\n\r\n\r\ninterface CadastroProps {\r\n    nome: string,\r\n    email: string,\r\n    senha: string\r\n}\r\n\r\nexport default function Cadastro() {\r\n\r\n    const navigation = useNavigation();\r\n    const image = { uri: BackgroundImageURl }\r\n    const [txtNome, setNome] = React.useState('');\r\n    const [txtEmail, setEmail] = React.useState('');\r\n    const [txtSenha, setSenha] = React.useState('');\r\n    const [txtConfirmarSenha, setConfirmarSenha] = React.useState('');\r\n\r\n    const [flLoading, setLoading] = React.useState(false);\r\n\r\n\r\n    if (flLoading) {\r\n        return (<Loading />)\r\n    }\r\n\r\n    async function navigateToLogin() {\r\n        /*\r\n        if (txtNome.trim() === '') {\r\n            alert('Campo Nome é obrigatório');\r\n            return;\r\n        }\r\n        if (txtEmail.trim() === '') {\r\n            alert('Campo E-mail é obrigatório');\r\n            return;\r\n        }\r\n        if (txtSenha.trim() === '') {\r\n            alert('Campo senha é obrigatório');\r\n            return;\r\n        }\r\n        if (txtConfirmarSenha.trim() === '') {\r\n            alert('Campo confirmar senha é obrigatório');\r\n            return;\r\n        }\r\n        if (txtConfirmarSenha != txtSenha) {\r\n            alert('Senhas não coincidem');\r\n            return;\r\n        }\r\n        */\r\n        realizaCadastro();\r\n    }\r\n\r\n    async function realizaCadastro() {\r\n        let errors: Array<string> = []\r\n        setLoading(true);\r\n        const objCadastro: CadastroProps = {\r\n            nome: txtNome,\r\n            email: txtEmail,\r\n            senha: txtSenha\r\n        }\r\n        await api.post(`/paciente/Cadastro`, objCadastro)\r\n            .then(response => {\r\n                if (response.data.auth) {\r\n                    setLoading(false);\r\n                    Alert.alert('Aviso', 'Cadastro realizado!\\nInicie a sessao na tela de Login')\r\n                    navigation.navigate('Login');\r\n                }\r\n            })\r\n            .catch((e) => {\r\n                setLoading(false);\r\n                console.log(e.response.data.errors)\r\n                e.response.data.errors.map((item: any) => {\r\n                    Object.values(item).map((item: any) => {\r\n                        errors.push('\\n\\n' + item);\r\n                    })\r\n                })\r\n                Alert.alert('Aviso', `${errors}`)\r\n            })\r\n    }\r\n\r\n\r\n    function navigateToWelcome() {\r\n        navigation.navigate('Welcome');\r\n    }\r\n\r\n    return (\r\n        <ImageBackground source={image} style={styles.image}>\r\n            <SafeAreaView style={styles.container}>\r\n                <KeyboardAvoidingView style={styles.container}>\r\n                    <View>\r\n                        <View style={styles.container}>\r\n                            <View style={styles.form}>\r\n                                <Text style={styles.title}>Bem vindo!</Text>\r\n                                <TextInput\r\n                                    placeholder=\"Nome completo\"\r\n                                    style={styles.textInput}\r\n                                    onChangeText={(text) => { setNome(text); }}\r\n                                    value={txtNome}\r\n                                ></TextInput>\r\n                                <TextInput\r\n                                    placeholder=\"E-mail\"\r\n                                    style={styles.textInput}\r\n                                    onChangeText={(text) => { setEmail(text); }}\r\n                                    value={txtEmail}\r\n                                ></TextInput>\r\n                                <TextInput\r\n                                    placeholder=\"Senha\"\r\n                                    style={styles.textInput}\r\n                                    onChangeText={(text) => { setSenha(text); }}\r\n                                    value={txtSenha}\r\n                                ></TextInput>\r\n                                <TextInput\r\n                                    placeholder=\"Confirmar Senha\"\r\n                                    style={styles.textInput}\r\n                                    onChangeText={(text) => { setConfirmarSenha(text); }}\r\n                                    value={txtConfirmarSenha}\r\n                                ></TextInput>\r\n                                <TouchableOpacity\r\n                                    style={styles.buttonClickMe}\r\n                                    activeOpacity={0.7}\r\n                                    onPress={navigateToLogin}\r\n                                >\r\n                                    <Text style={styles.textButton}>Cadastrar</Text>\r\n                                </TouchableOpacity>\r\n                                <View style={{ paddingTop: '25%' }}>\r\n                                    <CircleButton\r\n                                        title={'<'}\r\n                                        onPress={navigateToWelcome}\r\n                                    />\r\n                                </View>\r\n                            </View>\r\n                        </View>\r\n                    </View>\r\n                </KeyboardAvoidingView>\r\n            </SafeAreaView>\r\n        </ImageBackground>\r\n    );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}